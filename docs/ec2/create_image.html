<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates an Amazon EBS-backed AMI from an Amazon EBS-backed instance that
is either running or stopped — ec2_create_image • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="Creates an Amazon EBS-backed AMI from an Amazon EBS-backed instance that
is either running or stopped — ec2_create_image" />
<meta property="og:description" content="Creates an Amazon EBS-backed AMI from an Amazon EBS-backed instance that
is either running or stopped.
If you customized your instance with instance store volumes or EBS
volumes in addition to the root device volume, the new AMI contains
block device mapping information for those volumes. When you launch an
instance from this new AMI, the instance automatically launches with
those additional volumes.
For more information, see Creating Amazon EBS-Backed Linux AMIs
in the Amazon Elastic Compute Cloud User Guide." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates an Amazon EBS-backed AMI from an Amazon EBS-backed instance that
is either running or stopped</h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/ec2_operations.R'><code>R/ec2_operations.R</code></a></small>
    <div class="hidden name"><code>ec2_create_image.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates an Amazon EBS-backed AMI from an Amazon EBS-backed instance that
is either running or stopped.</p>
<p>If you customized your instance with instance store volumes or EBS
volumes in addition to the root device volume, the new AMI contains
block device mapping information for those volumes. When you launch an
instance from this new AMI, the instance automatically launches with
those additional volumes.</p>
<p>For more information, see <a href='https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html'>Creating Amazon EBS-Backed Linux AMIs</a>
in the <em>Amazon Elastic Compute Cloud User Guide</em>.</p>
    </div>

    <pre class="usage"><span class='fu'>ec2_create_image</span><span class='op'>(</span><span class='va'>BlockDeviceMappings</span>, <span class='va'>Description</span>, <span class='va'>DryRun</span>, <span class='va'>InstanceId</span>,
  <span class='va'>Name</span>, <span class='va'>NoReboot</span>, <span class='va'>TagSpecifications</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>BlockDeviceMappings</th>
      <td><p>The block device mappings. This parameter cannot be used to modify the
encryption status of existing volumes or snapshots. To create an AMI
with encrypted snapshots, use the CopyImage action.</p></td>
    </tr>
    <tr>
      <th>Description</th>
      <td><p>A description for the new image.</p></td>
    </tr>
    <tr>
      <th>DryRun</th>
      <td><p>Checks whether you have the required permissions for the action, without
actually making the request, and provides an error response. If you have
the required permissions, the error response is <code>DryRunOperation</code>.
Otherwise, it is <code>UnauthorizedOperation</code>.</p></td>
    </tr>
    <tr>
      <th>InstanceId</th>
      <td><p>[required] The ID of the instance.</p></td>
    </tr>
    <tr>
      <th>Name</th>
      <td><p>[required] A name for the new image.</p>
<p>Constraints: 3-128 alphanumeric characters, parentheses (()), square
brackets ([]), spaces ( ), periods (.), slashes (/), dashes (-),
single quotes ('), at-signs (@), or underscores(\_)</p></td>
    </tr>
    <tr>
      <th>NoReboot</th>
      <td><p>By default, Amazon EC2 attempts to shut down and reboot the instance
before creating the image. If the <code>No Reboot</code> option is set, Amazon EC2
doesn't shut down the instance before creating the image. When this
option is used, file system integrity on the created image can't be
guaranteed.</p></td>
    </tr>
    <tr>
      <th>TagSpecifications</th>
      <td><p>The tags to apply to the AMI and snapshots on creation. You can tag the
AMI, the snapshots, or both.</p><ul>
<li><p>To tag the AMI, the value for <code>ResourceType</code> must be <code>image</code>.</p></li>
<li><p>To tag the snapshots that are created of the root volume and of
other EBS volumes that are attached to the instance, the value for
<code>ResourceType</code> must be <code>snapshot</code>. The same tag is applied to all of
the snapshots that are created.</p></li>
</ul>

<p>If you specify other values for <code>ResourceType</code>, the request fails.</p>
<p>To tag an AMI or snapshot after it has been created, see
<a href='https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateTags.html'>CreateTags</a>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='va'>svc</span><span class='op'>$</span><span class='fu'>create_image</span><span class='op'>(</span>
  BlockDeviceMappings <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      DeviceName <span class='op'>=</span> <span class='st'>"string"</span>,
      VirtualName <span class='op'>=</span> <span class='st'>"string"</span>,
      Ebs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
        DeleteOnTermination <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>|</span><span class='cn'>FALSE</span>,
        Iops <span class='op'>=</span> <span class='fl'>123</span>,
        SnapshotId <span class='op'>=</span> <span class='st'>"string"</span>,
        VolumeSize <span class='op'>=</span> <span class='fl'>123</span>,
        VolumeType <span class='op'>=</span> <span class='st'>"standard"</span><span class='op'>|</span><span class='st'>"io1"</span><span class='op'>|</span><span class='st'>"io2"</span><span class='op'>|</span><span class='st'>"gp2"</span><span class='op'>|</span><span class='st'>"sc1"</span><span class='op'>|</span><span class='st'>"st1"</span><span class='op'>|</span><span class='st'>"gp3"</span>,
        KmsKeyId <span class='op'>=</span> <span class='st'>"string"</span>,
        Throughput <span class='op'>=</span> <span class='fl'>123</span>,
        Encrypted <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>|</span><span class='cn'>FALSE</span>
      <span class='op'>)</span>,
      NoDevice <span class='op'>=</span> <span class='st'>"string"</span>
    <span class='op'>)</span>
  <span class='op'>)</span>,
  Description <span class='op'>=</span> <span class='st'>"string"</span>,
  DryRun <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>|</span><span class='cn'>FALSE</span>,
  InstanceId <span class='op'>=</span> <span class='st'>"string"</span>,
  Name <span class='op'>=</span> <span class='st'>"string"</span>,
  NoReboot <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>|</span><span class='cn'>FALSE</span>,
  TagSpecifications <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      ResourceType <span class='op'>=</span> <span class='st'>"client-vpn-endpoint"</span><span class='op'>|</span><span class='st'>"customer-gateway"</span><span class='op'>|</span><span class='st'>"dedicated-host"</span><span class='op'>|</span><span class='st'>"dhcp-options"</span><span class='op'>|</span><span class='st'>"egress-only-internet-gateway"</span><span class='op'>|</span><span class='st'>"elastic-ip"</span><span class='op'>|</span><span class='st'>"elastic-gpu"</span><span class='op'>|</span><span class='st'>"export-image-task"</span><span class='op'>|</span><span class='st'>"export-instance-task"</span><span class='op'>|</span><span class='st'>"fleet"</span><span class='op'>|</span><span class='st'>"fpga-image"</span><span class='op'>|</span><span class='st'>"host-reservation"</span><span class='op'>|</span><span class='st'>"image"</span><span class='op'>|</span><span class='st'>"import-image-task"</span><span class='op'>|</span><span class='st'>"import-snapshot-task"</span><span class='op'>|</span><span class='st'>"instance"</span><span class='op'>|</span><span class='st'>"internet-gateway"</span><span class='op'>|</span><span class='st'>"key-pair"</span><span class='op'>|</span><span class='st'>"launch-template"</span><span class='op'>|</span><span class='st'>"local-gateway-route-table-vpc-association"</span><span class='op'>|</span><span class='st'>"natgateway"</span><span class='op'>|</span><span class='st'>"network-acl"</span><span class='op'>|</span><span class='st'>"network-interface"</span><span class='op'>|</span><span class='st'>"network-insights-analysis"</span><span class='op'>|</span><span class='st'>"network-insights-path"</span><span class='op'>|</span><span class='st'>"placement-group"</span><span class='op'>|</span><span class='st'>"reserved-instances"</span><span class='op'>|</span><span class='st'>"route-table"</span><span class='op'>|</span><span class='st'>"security-group"</span><span class='op'>|</span><span class='st'>"snapshot"</span><span class='op'>|</span><span class='st'>"spot-fleet-request"</span><span class='op'>|</span><span class='st'>"spot-instances-request"</span><span class='op'>|</span><span class='st'>"subnet"</span><span class='op'>|</span><span class='st'>"traffic-mirror-filter"</span><span class='op'>|</span><span class='st'>"traffic-mirror-session"</span><span class='op'>|</span><span class='st'>"traffic-mirror-target"</span><span class='op'>|</span><span class='st'>"transit-gateway"</span><span class='op'>|</span><span class='st'>"transit-gateway-attachment"</span><span class='op'>|</span><span class='st'>"transit-gateway-connect-peer"</span><span class='op'>|</span><span class='st'>"transit-gateway-multicast-domain"</span><span class='op'>|</span><span class='st'>"transit-gateway-route-table"</span><span class='op'>|</span><span class='st'>"volume"</span><span class='op'>|</span><span class='st'>"vpc"</span><span class='op'>|</span><span class='st'>"vpc-peering-connection"</span><span class='op'>|</span><span class='st'>"vpn-connection"</span><span class='op'>|</span><span class='st'>"vpn-gateway"</span><span class='op'>|</span><span class='st'>"vpc-flow-log"</span>,
      Tags <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
        <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
          Key <span class='op'>=</span> <span class='st'>"string"</span>,
          Value <span class='op'>=</span> <span class='st'>"string"</span>
        <span class='op'>)</span>
      <span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
</pre>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># This example creates an AMI from the specified instance and adds an EBS</span>
<span class='co'># volume with the device name /dev/sdh and an instance store volume with</span>
<span class='co'># the device name /dev/sdc.</span>
<span class='va'>svc</span><span class='op'>$</span><span class='fu'>create_image</span><span class='op'>(</span>
  BlockDeviceMappings <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      DeviceName <span class='op'>=</span> <span class='st'>"/dev/sdh"</span>,
      Ebs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
        VolumeSize <span class='op'>=</span> <span class='st'>"100"</span>
      <span class='op'>)</span>
    <span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      DeviceName <span class='op'>=</span> <span class='st'>"/dev/sdc"</span>,
      VirtualName <span class='op'>=</span> <span class='st'>"ephemeral1"</span>
    <span class='op'>)</span>
  <span class='op'>)</span>,
  Description <span class='op'>=</span> <span class='st'>"An AMI for my server"</span>,
  InstanceId <span class='op'>=</span> <span class='st'>"i-1234567890abcdef0"</span>,
  Name <span class='op'>=</span> <span class='st'>"My server"</span>,
  NoReboot <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>
<span class='op'>}</span>

</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


