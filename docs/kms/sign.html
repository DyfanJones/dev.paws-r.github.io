<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates a digital signature for a message or message digest by using the
private key in an asymmetric CMK — kms_sign • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="Creates a digital signature for a message or message digest by using the
private key in an asymmetric CMK — kms_sign" />
<meta property="og:description" content="Creates a digital signature for a
message or message digest by using the private key in an asymmetric CMK.
To verify the signature, use the Verify operation, or use the public key
in the same asymmetric CMK outside of AWS KMS. For information about
symmetric and asymmetric CMKs, see Using Symmetric and Asymmetric CMKs
in the AWS Key Management Service Developer Guide." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a digital signature for a message or message digest by using the
private key in an asymmetric CMK</h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/kms_operations.R'><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_sign.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a <a href='https://en.wikipedia.org/wiki/Digital_signature'>digital signature</a> for a
message or message digest by using the private key in an asymmetric CMK.
To verify the signature, use the Verify operation, or use the public key
in the same asymmetric CMK outside of AWS KMS. For information about
symmetric and asymmetric CMKs, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html'>Using Symmetric and Asymmetric CMKs</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p>
    </div>

    <pre class="usage"><span class='fu'>kms_sign</span>(<span class='no'>KeyId</span>, <span class='no'>Message</span>, <span class='no'>MessageType</span>, <span class='no'>GrantTokens</span>, <span class='no'>SigningAlgorithm</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>KeyId</th>
      <td><p>[required] Identifies an asymmetric CMK. AWS KMS uses the private key in the
asymmetric CMK to sign the message. The <code>KeyUsage</code> type of the CMK must
be <code>SIGN_VERIFY</code>. To find the <code>KeyUsage</code> of a CMK, use the DescribeKey
operation.</p>
<p>To specify a CMK, use its key ID, Amazon Resource Name (ARN), alias
name, or alias ARN. When using an alias name, prefix it with <code>"alias/"</code>.
To specify a CMK in a different AWS account, you must use the key ARN or
alias ARN.</p>
<p>For example:</p><ul>
<li><p>Key ID: <code>1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Key ARN:
<code>arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Alias name: <code>alias/ExampleAlias</code></p></li>
<li><p>Alias ARN: <code>arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias</code></p></li>
</ul>

<p>To get the key ID and key ARN for a CMK, use ListKeys or DescribeKey. To
get the alias name and alias ARN, use ListAliases.</p></td>
    </tr>
    <tr>
      <th>Message</th>
      <td><p>[required] Specifies the message or message digest to sign. Messages can be 0-4096
bytes. To sign a larger message, provide the message digest.</p>
<p>If you provide a message, AWS KMS generates a hash digest of the message
and then signs it.</p></td>
    </tr>
    <tr>
      <th>MessageType</th>
      <td><p>Tells AWS KMS whether the value of the <code>Message</code> parameter is a message
or message digest. The default value, RAW, indicates a message. To
indicate a message digest, enter <code>DIGEST</code>.</p></td>
    </tr>
    <tr>
      <th>GrantTokens</th>
      <td><p>A list of grant tokens.</p>
<p>For more information, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#grant_token'>Grant Tokens</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p></td>
    </tr>
    <tr>
      <th>SigningAlgorithm</th>
      <td><p>[required] Specifies the signing algorithm to use when signing the message.</p>
<p>Choose an algorithm that is compatible with the type and size of the
specified asymmetric CMK.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Digital signatures are generated and verified by using asymmetric key
pair, such as an RSA or ECC pair that is represented by an asymmetric
customer master key (CMK). The key owner (or an authorized user) uses
their private key to sign a message. Anyone with the public key can
verify that the message was signed with that particular private key and
that the message hasn\'t changed since it was signed.</p>
<p>To use the <code>Sign</code> operation, provide the following information:</p><ul>
<li><p>Use the <code>KeyId</code> parameter to identify an asymmetric CMK with a
<code>KeyUsage</code> value of <code>SIGN_VERIFY</code>. To get the <code>KeyUsage</code> value of a
CMK, use the DescribeKey operation. The caller must have <code>kms:Sign</code>
permission on the CMK.</p></li>
<li><p>Use the <code>Message</code> parameter to specify the message or message digest
to sign. You can submit messages of up to 4096 bytes. To sign a
larger message, generate a hash digest of the message, and then
provide the hash digest in the <code>Message</code> parameter. To indicate
whether the message is a full message or a digest, use the
<code>MessageType</code> parameter.</p></li>
<li><p>Choose a signing algorithm that is compatible with the CMK.</p></li>
</ul>

<p>When signing a message, be sure to record the CMK and the signing
algorithm. This information is required to verify the signature.</p>
<p>To verify the signature that this operation generates, use the Verify
operation. Or use the GetPublicKey operation to download the public key
and then use the public key to verify the signature outside of AWS KMS.</p>
<p>The CMK that you use for this operation must be in a compatible key
state. For details, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html'>How Key State Affects Use of a Customer Master Key</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p>
    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='no'>svc</span>$<span class='fu'><a href='https://rdrr.io/r/base/sign.html'>sign</a></span>(
  <span class='kw'>KeyId</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
  <span class='kw'>Message</span> <span class='kw'>=</span> <span class='no'>raw</span>,
  <span class='kw'>MessageType</span> <span class='kw'>=</span> <span class='st'>"RAW"</span><span class='kw'>|</span><span class='st'>"DIGEST"</span>,
  <span class='kw'>GrantTokens</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='st'>"string"</span>
  ),
  <span class='kw'>SigningAlgorithm</span> <span class='kw'>=</span> <span class='st'>"RSASSA_PSS_SHA_256"</span><span class='kw'>|</span><span class='st'>"RSASSA_PSS_SHA_384"</span><span class='kw'>|</span><span class='st'>"RSASSA_PSS_SHA_512"</span><span class='kw'>|</span><span class='st'>"RSASSA_PKCS1_V1_5_SHA_256"</span><span class='kw'>|</span><span class='st'>"RSASSA_PKCS1_V1_5_SHA_384"</span><span class='kw'>|</span><span class='st'>"RSASSA_PKCS1_V1_5_SHA_512"</span><span class='kw'>|</span><span class='st'>"ECDSA_SHA_256"</span><span class='kw'>|</span><span class='st'>"ECDSA_SHA_384"</span><span class='kw'>|</span><span class='st'>"ECDSA_SHA_512"</span>
)</pre>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


