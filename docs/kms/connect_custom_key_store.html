<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Connects or reconnects a custom key store to its associated AWS CloudHSM
cluster — kms_connect_custom_key_store • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="Connects or reconnects a custom key store to its associated AWS CloudHSM
cluster — kms_connect_custom_key_store" />
<meta property="og:description" content="Connects or reconnects a custom key store
to its associated AWS CloudHSM cluster.
The custom key store must be connected before you can create customer
master keys (CMKs) in the key store or use the CMKs it contains. You can
disconnect and reconnect a custom key store at any time.
To connect a custom key store, its associated AWS CloudHSM cluster must
have at least one active HSM. To get the number of active HSMs in a
cluster, use the
DescribeClusters
operation. To add HSMs to the cluster, use the
CreateHsm
operation. Also, the kmsuser crypto user
(CU) must not be logged into the cluster. This prevents AWS KMS from
using this account to log in.
The connection process can take an extended amount of time to complete;
up to 20 minutes. This operation starts the connection process, but it
does not wait for it to complete. When it succeeds, this operation
quickly returns an HTTP 200 response and a JSON object with no
properties. However, this response does not indicate that the custom key
store is connected. To get the connection state of the custom key store,
use the DescribeCustomKeyStores operation.
During the connection process, AWS KMS finds the AWS CloudHSM cluster
that is associated with the custom key store, creates the connection
infrastructure, connects to the cluster, logs into the AWS CloudHSM
client as the kmsuser CU, and rotates its password.
The ConnectCustomKeyStore operation might fail for various reasons. To
find the reason, use the DescribeCustomKeyStores operation and see the
ConnectionErrorCode in the response. For help interpreting the
ConnectionErrorCode, see CustomKeyStoresListEntry.
To fix the failure, use the DisconnectCustomKeyStore operation to
disconnect the custom key store, correct the error, use the
UpdateCustomKeyStore operation if necessary, and then use
ConnectCustomKeyStore again.
If you are having trouble connecting or disconnecting a custom key
store, see Troubleshooting a Custom Key Store
in the AWS Key Management Service Developer Guide.
Cross-account use: No. You cannot perform this operation on a custom
key store in a different AWS account.
Required permissions:
kms:ConnectCustomKeyStore
(IAM policy)
Related operations
CreateCustomKeyStore
DeleteCustomKeyStore
DescribeCustomKeyStores
DisconnectCustomKeyStore
UpdateCustomKeyStore

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Connects or reconnects a custom key store to its associated AWS CloudHSM
cluster</h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/kms_operations.R'><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_connect_custom_key_store.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Connects or reconnects a <a href='https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html'>custom key store</a>
to its associated AWS CloudHSM cluster.</p>
<p>The custom key store must be connected before you can create customer
master keys (CMKs) in the key store or use the CMKs it contains. You can
disconnect and reconnect a custom key store at any time.</p>
<p>To connect a custom key store, its associated AWS CloudHSM cluster must
have at least one active HSM. To get the number of active HSMs in a
cluster, use the
<a href='https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html'>DescribeClusters</a>
operation. To add HSMs to the cluster, use the
<a href='https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_CreateHsm.html'>CreateHsm</a>
operation. Also, the <a href='https://docs.aws.amazon.com/kms/latest/developerguide/key-store-concepts.html#concept-kmsuser'><code>kmsuser</code> crypto user</a>
(CU) must not be logged into the cluster. This prevents AWS KMS from
using this account to log in.</p>
<p>The connection process can take an extended amount of time to complete;
up to 20 minutes. This operation starts the connection process, but it
does not wait for it to complete. When it succeeds, this operation
quickly returns an HTTP 200 response and a JSON object with no
properties. However, this response does not indicate that the custom key
store is connected. To get the connection state of the custom key store,
use the DescribeCustomKeyStores operation.</p>
<p>During the connection process, AWS KMS finds the AWS CloudHSM cluster
that is associated with the custom key store, creates the connection
infrastructure, connects to the cluster, logs into the AWS CloudHSM
client as the <code>kmsuser</code> CU, and rotates its password.</p>
<p>The <code>ConnectCustomKeyStore</code> operation might fail for various reasons. To
find the reason, use the DescribeCustomKeyStores operation and see the
<code>ConnectionErrorCode</code> in the response. For help interpreting the
<code>ConnectionErrorCode</code>, see CustomKeyStoresListEntry.</p>
<p>To fix the failure, use the DisconnectCustomKeyStore operation to
disconnect the custom key store, correct the error, use the
UpdateCustomKeyStore operation if necessary, and then use
<code>ConnectCustomKeyStore</code> again.</p>
<p>If you are having trouble connecting or disconnecting a custom key
store, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html'>Troubleshooting a Custom Key Store</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p>
<p><strong>Cross-account use</strong>: No. You cannot perform this operation on a custom
key store in a different AWS account.</p>
<p><strong>Required permissions</strong>:
<a href='https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html'>kms:ConnectCustomKeyStore</a>
(IAM policy)</p>
<p><strong>Related operations</strong></p><ul>
<li><p>CreateCustomKeyStore</p></li>
<li><p>DeleteCustomKeyStore</p></li>
<li><p>DescribeCustomKeyStores</p></li>
<li><p>DisconnectCustomKeyStore</p></li>
<li><p>UpdateCustomKeyStore</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>kms_connect_custom_key_store</span><span class='op'>(</span><span class='va'>CustomKeyStoreId</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>CustomKeyStoreId</th>
      <td><p>[required] Enter the key store ID of the custom key store that you want to connect.
To find the ID of a custom key store, use the DescribeCustomKeyStores
operation.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='va'>svc</span><span class='op'>$</span><span class='fu'>connect_custom_key_store</span><span class='op'>(</span>
  CustomKeyStoreId <span class='op'>=</span> <span class='st'>"string"</span>
<span class='op'>)</span>
</pre>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


