<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Decrypts ciphertext that was encrypted by a AWS KMS customer master key
(CMK) using any of the following operations: - Encrypt - GenerateDataKey
<ul>
<li><p>GenerateDataKeyPair - GenerateDataKeyWithoutPlaintext -
GenerateDataKeyPairWithoutPlaintext You can use this operation to
decrypt ciphertext that was encrypted under a symmetric or asymmetric
CMK</p></li>
</ul> — kms_decrypt • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="Decrypts ciphertext that was encrypted by a AWS KMS customer master key
(CMK) using any of the following operations: - Encrypt - GenerateDataKey
<ul>
<li><p>GenerateDataKeyPair - GenerateDataKeyWithoutPlaintext -
GenerateDataKeyPairWithoutPlaintext You can use this operation to
decrypt ciphertext that was encrypted under a symmetric or asymmetric
CMK</p></li>
</ul> — kms_decrypt" />
<meta property="og:description" content="Decrypts ciphertext that was encrypted by a AWS KMS customer master key
(CMK) using any of the following operations:" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Decrypts ciphertext that was encrypted by a AWS KMS customer master key
(CMK) using any of the following operations: - Encrypt - GenerateDataKey
<ul>
<li><p>GenerateDataKeyPair - GenerateDataKeyWithoutPlaintext -
GenerateDataKeyPairWithoutPlaintext You can use this operation to
decrypt ciphertext that was encrypted under a symmetric or asymmetric
CMK</p></li>
</ul></h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/kms_operations.R'><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_decrypt.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Decrypts ciphertext that was encrypted by a AWS KMS customer master key
(CMK) using any of the following operations:</p>
    </div>

    <pre class="usage"><span class='fu'>kms_decrypt</span>(<span class='no'>CiphertextBlob</span>, <span class='no'>EncryptionContext</span>, <span class='no'>GrantTokens</span>, <span class='no'>KeyId</span>,
  <span class='no'>EncryptionAlgorithm</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>CiphertextBlob</th>
      <td><p>[required] Ciphertext to be decrypted. The blob includes metadata.</p></td>
    </tr>
    <tr>
      <th>EncryptionContext</th>
      <td><p>Specifies the encryption context to use when decrypting the data. An
encryption context is valid only for <a href='https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations'>cryptographic operations</a>
with a symmetric CMK. The standard asymmetric encryption algorithms that
AWS KMS uses do not support an encryption context.</p>
<p>An <em>encryption context</em> is a collection of non-secret key-value pairs
that represents additional authenticated data. When you use an
encryption context to encrypt data, you must specify the same (an exact
case-sensitive match) encryption context to decrypt the data. An
encryption context is optional when encrypting with a symmetric CMK, but
it is highly recommended.</p>
<p>For more information, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context'>Encryption Context</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p></td>
    </tr>
    <tr>
      <th>GrantTokens</th>
      <td><p>A list of grant tokens.</p>
<p>For more information, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#grant_token'>Grant Tokens</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p></td>
    </tr>
    <tr>
      <th>KeyId</th>
      <td><p>Specifies the customer master key (CMK) that AWS KMS will use to decrypt
the ciphertext. Enter a key ID of the CMK that was used to encrypt the
ciphertext.</p>
<p>If you specify a <code>KeyId</code> value, the <code>Decrypt</code> operation succeeds only if
the specified CMK was used to encrypt the ciphertext.</p>
<p>This parameter is required only when the ciphertext was encrypted under
an asymmetric CMK. Otherwise, AWS KMS uses the metadata that it adds to
the ciphertext blob to determine which CMK was used to encrypt the
ciphertext. However, you can use this parameter to ensure that a
particular CMK (of any kind) is used to decrypt the ciphertext.</p>
<p>To specify a CMK, use its key ID, Amazon Resource Name (ARN), alias
name, or alias ARN. When using an alias name, prefix it with <code>"alias/"</code>.</p>
<p>For example:</p><ul>
<li><p>Key ID: <code>1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Key ARN:
<code>arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Alias name: <code>alias/ExampleAlias</code></p></li>
<li><p>Alias ARN: <code>arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias</code></p></li>
</ul>

<p>To get the key ID and key ARN for a CMK, use ListKeys or DescribeKey. To
get the alias name and alias ARN, use ListAliases.</p></td>
    </tr>
    <tr>
      <th>EncryptionAlgorithm</th>
      <td><p>Specifies the encryption algorithm that will be used to decrypt the
ciphertext. Specify the same algorithm that was used to encrypt the
data. If you specify a different algorithm, the <code>Decrypt</code> operation
fails.</p>
<p>This parameter is required only when the ciphertext was encrypted under
an asymmetric CMK. The default value, <code>SYMMETRIC_DEFAULT</code>, represents
the only supported algorithm that is valid for symmetric CMKs.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<ul>
<li><p>Encrypt</p></li>
<li><p>GenerateDataKey</p></li>
<li><p>GenerateDataKeyPair</p></li>
<li><p>GenerateDataKeyWithoutPlaintext</p></li>
<li><p>GenerateDataKeyPairWithoutPlaintext</p></li>
</ul>

<p>You can use this operation to decrypt ciphertext that was encrypted
under a symmetric or asymmetric CMK. When the CMK is asymmetric, you
must specify the CMK and the encryption algorithm that was used to
encrypt the ciphertext. For information about symmetric and asymmetric
CMKs, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html'>Using Symmetric and Asymmetric CMKs</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p>
<p>The Decrypt operation also decrypts ciphertext that was encrypted
outside of AWS KMS by the public key in an AWS KMS asymmetric CMK.
However, it cannot decrypt ciphertext produced by other libraries, such
as the <a href='https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/'>AWS Encryption SDK</a>
or <a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingClientSideEncryption.html'>Amazon S3 client-side encryption</a>.
These libraries return a ciphertext format that is incompatible with AWS
KMS.</p>
<p>If the ciphertext was encrypted under a symmetric CMK, you do not need
to specify the CMK or the encryption algorithm. AWS KMS can get this
information from metadata that it adds to the symmetric ciphertext blob.
However, if you prefer, you can specify the <code>KeyId</code> to ensure that a
particular CMK is used to decrypt the ciphertext. If you specify a
different CMK than the one used to encrypt the ciphertext, the <code>Decrypt</code>
operation fails.</p>
<p>Whenever possible, use key policies to give users permission to call the
Decrypt operation on a particular CMK, instead of using IAM policies.
Otherwise, you might create an IAM user policy that gives the user
Decrypt permission on all CMKs. This user could decrypt ciphertext that
was encrypted by CMKs in other accounts if the key policy for the
cross-account CMK permits it. If you must use an IAM policy for
<code>Decrypt</code> permissions, limit the user to particular CMKs or particular
trusted accounts.</p>
<p>The CMK that you use for this operation must be in a compatible key
state. For details, see <a href='https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html'>How Key State Affects Use of a Customer Master Key</a>
in the <em>AWS Key Management Service Developer Guide</em>.</p>
    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='no'>svc</span>$<span class='fu'>decrypt</span>(
  <span class='kw'>CiphertextBlob</span> <span class='kw'>=</span> <span class='no'>raw</span>,
  <span class='kw'>EncryptionContext</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='st'>"string"</span>
  ),
  <span class='kw'>GrantTokens</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='st'>"string"</span>
  ),
  <span class='kw'>KeyId</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
  <span class='kw'>EncryptionAlgorithm</span> <span class='kw'>=</span> <span class='st'>"SYMMETRIC_DEFAULT"</span><span class='kw'>|</span><span class='st'>"RSAES_OAEP_SHA_1"</span><span class='kw'>|</span><span class='st'>"RSAES_OAEP_SHA_256"</span>
)</pre>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># The following example decrypts data that was encrypted with a customer</span>
<span class='co'># master key (CMK) in AWS KMS.</span>
<span class='no'>svc</span>$<span class='fu'>decrypt</span>(
  <span class='kw'>CiphertextBlob</span> <span class='kw'>=</span> <span class='st'>"&lt;binary data&gt;"</span>
)
}</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


