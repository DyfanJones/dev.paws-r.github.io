<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>This is AWS WAF Classic documentation — waf_update_rule • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="This is AWS WAF Classic documentation — waf_update_rule" />
<meta property="og:description" content="This is AWS WAF Classic documentation. For more information, see
AWS WAF Classic
in the developer guide.
For the latest version of AWS WAF, use the AWS WAFV2 API and see the
AWS WAF Developer Guide.
With the latest version, AWS WAF has a single set of endpoints for
regional and global use.
Inserts or deletes Predicate objects in a Rule. Each Predicate
object identifies a predicate, such as a ByteMatchSet or an IPSet, that
specifies the web requests that you want to allow, block, or count. If
you add more than one predicate to a Rule, a request must match all of
the specifications to be allowed, blocked, or counted. For example,
suppose that you add the following to a Rule:
A ByteMatchSet that matches the value BadBot in the User-Agent
header
An IPSet that matches the IP address 192.0.2.44


You then add the Rule to a WebACL and specify that you want to block
requests that satisfy the Rule. For a request to be blocked, the
User-Agent header in the request must contain the value BadBot and
the request must originate from the IP address 192.0.2.44.
To create and configure a Rule, perform the following steps:
Create and update the predicates that you want to include in the
Rule.
Create the Rule. See CreateRule.
Use GetChangeToken to get the change token that you provide in the
ChangeToken parameter of an UpdateRule request.
Submit an UpdateRule request to add predicates to the Rule.
Create and update a WebACL that contains the Rule. See
CreateWebACL.


If you want to replace one ByteMatchSet or IPSet with another, you
delete the existing one and add the new one.
For more information about how to use the AWS WAF API to allow or block
HTTP requests, see the AWS WAF Developer Guide." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>This is AWS WAF Classic documentation</h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/waf_operations.R'><code>R/waf_operations.R</code></a></small>
    <div class="hidden name"><code>waf_update_rule.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is <strong>AWS WAF Classic</strong> documentation. For more information, see
<a href='https://docs.aws.amazon.com/waf/latest/developerguide/classic-waf-chapter.html'>AWS WAF Classic</a>
in the developer guide.</p>
<p><strong>For the latest version of AWS WAF</strong>, use the AWS WAFV2 API and see the
<a href='https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html'>AWS WAF Developer Guide</a>.
With the latest version, AWS WAF has a single set of endpoints for
regional and global use.</p>
<p>Inserts or deletes Predicate objects in a <code>Rule</code>. Each <code>Predicate</code>
object identifies a predicate, such as a ByteMatchSet or an IPSet, that
specifies the web requests that you want to allow, block, or count. If
you add more than one predicate to a <code>Rule</code>, a request must match all of
the specifications to be allowed, blocked, or counted. For example,
suppose that you add the following to a <code>Rule</code>:</p><ul>
<li><p>A <code>ByteMatchSet</code> that matches the value <code>BadBot</code> in the <code>User-Agent</code>
header</p></li>
<li><p>An <code>IPSet</code> that matches the IP address <code>192.0.2.44</code></p></li>
</ul>

<p>You then add the <code>Rule</code> to a <code>WebACL</code> and specify that you want to block
requests that satisfy the <code>Rule</code>. For a request to be blocked, the
<code>User-Agent</code> header in the request must contain the value <code>BadBot</code> <em>and</em>
the request must originate from the IP address 192.0.2.44.</p>
<p>To create and configure a <code>Rule</code>, perform the following steps:</p><ol>
<li><p>Create and update the predicates that you want to include in the
<code>Rule</code>.</p></li>
<li><p>Create the <code>Rule</code>. See CreateRule.</p></li>
<li><p>Use <code>GetChangeToken</code> to get the change token that you provide in the
<code>ChangeToken</code> parameter of an UpdateRule request.</p></li>
<li><p>Submit an <code>UpdateRule</code> request to add predicates to the <code>Rule</code>.</p></li>
<li><p>Create and update a <code>WebACL</code> that contains the <code>Rule</code>. See
CreateWebACL.</p></li>
</ol>

<p>If you want to replace one <code>ByteMatchSet</code> or <code>IPSet</code> with another, you
delete the existing one and add the new one.</p>
<p>For more information about how to use the AWS WAF API to allow or block
HTTP requests, see the <a href='https://docs.aws.amazon.com/waf/latest/developerguide/'>AWS WAF Developer Guide</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>waf_update_rule</span><span class='op'>(</span><span class='va'>RuleId</span>, <span class='va'>ChangeToken</span>, <span class='va'>Updates</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>RuleId</th>
      <td><p>[required] The <code>RuleId</code> of the <code>Rule</code> that you want to update. <code>RuleId</code> is returned
by <code>CreateRule</code> and by ListRules.</p></td>
    </tr>
    <tr>
      <th>ChangeToken</th>
      <td><p>[required] The value returned by the most recent call to GetChangeToken.</p></td>
    </tr>
    <tr>
      <th>Updates</th>
      <td><p>[required] An array of <code>RuleUpdate</code> objects that you want to insert into or delete
from a Rule. For more information, see the applicable data types:</p><ul>
<li><p>RuleUpdate: Contains <code>Action</code> and <code>Predicate</code></p></li>
<li><p>Predicate: Contains <code>DataId</code>, <code>Negated</code>, and <code>Type</code></p></li>
<li><p>FieldToMatch: Contains <code>Data</code> and <code>Type</code></p></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='va'>svc</span><span class='op'>$</span><span class='fu'>update_rule</span><span class='op'>(</span>
  RuleId <span class='op'>=</span> <span class='st'>"string"</span>,
  ChangeToken <span class='op'>=</span> <span class='st'>"string"</span>,
  Updates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      Action <span class='op'>=</span> <span class='st'>"INSERT"</span><span class='op'>|</span><span class='st'>"DELETE"</span>,
      Predicate <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
        Negated <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>|</span><span class='cn'>FALSE</span>,
        Type <span class='op'>=</span> <span class='st'>"IPMatch"</span><span class='op'>|</span><span class='st'>"ByteMatch"</span><span class='op'>|</span><span class='st'>"SqlInjectionMatch"</span><span class='op'>|</span><span class='st'>"GeoMatch"</span><span class='op'>|</span><span class='st'>"SizeConstraint"</span><span class='op'>|</span><span class='st'>"XssMatch"</span><span class='op'>|</span><span class='st'>"RegexMatch"</span>,
        DataId <span class='op'>=</span> <span class='st'>"string"</span>
      <span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
</pre>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># The following example deletes a Predicate object in a rule with the ID</span>
<span class='co'># example1ds3t-46da-4fdb-b8d5-abc321j569j5.</span>
<span class='va'>svc</span><span class='op'>$</span><span class='fu'>update_rule</span><span class='op'>(</span>
  ChangeToken <span class='op'>=</span> <span class='st'>"abcd12f2-46da-4fdb-b8d5-fbd4c466928f"</span>,
  RuleId <span class='op'>=</span> <span class='st'>"example1ds3t-46da-4fdb-b8d5-abc321j569j5"</span>,
  Updates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      Action <span class='op'>=</span> <span class='st'>"DELETE"</span>,
      Predicate <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
        DataId <span class='op'>=</span> <span class='st'>"MyByteMatchSetID"</span>,
        Negated <span class='op'>=</span> <span class='cn'>FALSE</span>,
        Type <span class='op'>=</span> <span class='st'>"ByteMatch"</span>
      <span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
<span class='op'>}</span>

</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


