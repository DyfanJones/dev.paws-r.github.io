<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access AWS
services — iam_generate_service_last_accessed_details • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access AWS
services — iam_generate_service_last_accessed_details" />
<meta property="og:description" content="Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access AWS
services. Recent activity usually appears within four hours. IAM reports
activity for the last 365 days, or less if your Region began supporting
this feature within the last year. For more information, see Regions Where Data Is Tracked.
The service last accessed data includes all attempts to access an AWS
API, not just the successful ones. This includes all attempts that were
made using the AWS Management Console, the AWS API through any of the
SDKs, or any of the command line tools. An unexpected entry in the
service last accessed data does not mean that your account has been
compromised, because the request might have been denied. Refer to your
CloudTrail logs as the authoritative source for information about all
API calls and whether they were successful or denied access. For more
information, see Logging IAM Events with CloudTrail
in the IAM User Guide.
The GenerateServiceLastAccessedDetails operation returns a JobId.
Use this parameter in the following operations to retrieve the following
details from your report:
GetServiceLastAccessedDetails – Use this operation for users,
groups, roles, or policies to list every AWS service that the
resource could access using permissions policies. For each service,
the response includes information about the most recent access
attempt.
The JobId returned by GenerateServiceLastAccessedDetail must be
used by the same role within a session, or by the same user when
used to call GetServiceLastAccessedDetail.
GetServiceLastAccessedDetailsWithEntities – Use this operation for
groups and policies to list information about the associated
entities (users or roles) that attempted to access a specific AWS
service.


To check the status of the GenerateServiceLastAccessedDetails request,
use the JobId parameter in the same operations and test the
JobStatus response parameter.
For additional information about the permissions policies that allow an
identity (user, group, or role) to access specific services, use the
ListPoliciesGrantingServiceAccess operation.
Service last accessed data does not use other policy types when
determining whether a resource could access a service. These other
policy types include resource-based policies, access control lists, AWS
Organizations policies, IAM permissions boundaries, and AWS STS assume
role policies. It only applies permissions policy logic. For more about
the evaluation of policy types, see Evaluating Policies
in the IAM User Guide.
For more information about service and action last accessed data, see
Reducing Permissions Using Service Last Accessed Data
in the IAM User Guide." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access AWS
services</h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/iam_operations.R'><code>R/iam_operations.R</code></a></small>
    <div class="hidden name"><code>iam_generate_service_last_accessed_details.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access AWS
services. Recent activity usually appears within four hours. IAM reports
activity for the last 365 days, or less if your Region began supporting
this feature within the last year. For more information, see <a href='https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#access-advisor_tracking-period'>Regions Where Data Is Tracked</a>.</p>
<p>The service last accessed data includes all attempts to access an AWS
API, not just the successful ones. This includes all attempts that were
made using the AWS Management Console, the AWS API through any of the
SDKs, or any of the command line tools. An unexpected entry in the
service last accessed data does not mean that your account has been
compromised, because the request might have been denied. Refer to your
CloudTrail logs as the authoritative source for information about all
API calls and whether they were successful or denied access. For more
information, see <a href='https://docs.aws.amazon.com/IAM/latest/UserGuide/cloudtrail-integration.html'>Logging IAM Events with CloudTrail</a>
in the <em>IAM User Guide</em>.</p>
<p>The <code>GenerateServiceLastAccessedDetails</code> operation returns a <code>JobId</code>.
Use this parameter in the following operations to retrieve the following
details from your report:</p><ul>
<li><p>GetServiceLastAccessedDetails – Use this operation for users,
groups, roles, or policies to list every AWS service that the
resource could access using permissions policies. For each service,
the response includes information about the most recent access
attempt.</p>
<p>The <code>JobId</code> returned by <code>GenerateServiceLastAccessedDetail</code> must be
used by the same role within a session, or by the same user when
used to call <code>GetServiceLastAccessedDetail</code>.</p></li>
<li><p>GetServiceLastAccessedDetailsWithEntities – Use this operation for
groups and policies to list information about the associated
entities (users or roles) that attempted to access a specific AWS
service.</p></li>
</ul>

<p>To check the status of the <code>GenerateServiceLastAccessedDetails</code> request,
use the <code>JobId</code> parameter in the same operations and test the
<code>JobStatus</code> response parameter.</p>
<p>For additional information about the permissions policies that allow an
identity (user, group, or role) to access specific services, use the
ListPoliciesGrantingServiceAccess operation.</p>
<p>Service last accessed data does not use other policy types when
determining whether a resource could access a service. These other
policy types include resource-based policies, access control lists, AWS
Organizations policies, IAM permissions boundaries, and AWS STS assume
role policies. It only applies permissions policy logic. For more about
the evaluation of policy types, see <a href='https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html#policy-eval-basics'>Evaluating Policies</a>
in the <em>IAM User Guide</em>.</p>
<p>For more information about service and action last accessed data, see
<a href='https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html'>Reducing Permissions Using Service Last Accessed Data</a>
in the <em>IAM User Guide</em>.</p>
    </div>

    <pre class="usage"><span class='fu'>iam_generate_service_last_accessed_details</span><span class='op'>(</span><span class='va'>Arn</span>, <span class='va'>Granularity</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Arn</th>
      <td><p>[required] The ARN of the IAM resource (user, group, role, or managed policy) used
to generate information about when the resource was last used in an
attempt to access an AWS service.</p></td>
    </tr>
    <tr>
      <th>Granularity</th>
      <td><p>The level of detail that you want to generate. You can specify whether
you want to generate information about the last attempt to access
services or actions. If you specify service-level granularity, this
operation generates only service data. If you specify action-level
granularity, it generates service and action data. If you don't include
this optional parameter, the operation generates service data.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='va'>svc</span><span class='op'>$</span><span class='fu'>generate_service_last_accessed_details</span><span class='op'>(</span>
  Arn <span class='op'>=</span> <span class='st'>"string"</span>,
  Granularity <span class='op'>=</span> <span class='st'>"SERVICE_LEVEL"</span><span class='op'>|</span><span class='st'>"ACTION_LEVEL"</span>
<span class='op'>)</span>
</pre>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># The following operation generates a report for the policy:</span>
<span class='co'># ExamplePolicy1</span>
<span class='va'>svc</span><span class='op'>$</span><span class='fu'>generate_service_last_accessed_details</span><span class='op'>(</span>
  Arn <span class='op'>=</span> <span class='st'>"arn:aws:iam::123456789012:policy/ExamplePolicy1"</span>
<span class='op'>)</span>
<span class='op'>}</span>

</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


