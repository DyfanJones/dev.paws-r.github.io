<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates a replication configuration or replaces an existing one — s3_put_bucket_replication • paws</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script href="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script href="../pkgdown.js"></script>




<meta property="og:title" content="Creates a replication configuration or replaces an existing one — s3_put_bucket_replication" />
<meta property="og:description" content="Creates a replication configuration or replaces an existing one. For
more information, see
Replication
in the Amazon S3 Developer Guide." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
</li>
<li>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paws-r/paws/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a replication configuration or replaces an existing one</h1>
    <small class="dont-index">Source: <a href='https://github.com/paws-r/paws/blob/master/R/s3_operations.R'><code>R/s3_operations.R</code></a></small>
    <div class="hidden name"><code>s3_put_bucket_replication.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a replication configuration or replaces an existing one. For
more information, see
<a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/replication.html'>Replication</a>
in the <em>Amazon S3 Developer Guide</em>.</p>
    </div>

    <pre class="usage"><span class='fu'>s3_put_bucket_replication</span>(<span class='no'>Bucket</span>, <span class='no'>ContentMD5</span>, <span class='no'>ReplicationConfiguration</span>,
  <span class='no'>Token</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Bucket</th>
      <td><p>[required] The name of the bucket</p></td>
    </tr>
    <tr>
      <th>ContentMD5</th>
      <td><p>The base64-encoded 128-bit MD5 digest of the data. You must use this
header as a message integrity check to verify that the request body was
not corrupted in transit. For more information, see <a href='http://www.ietf.org/rfc/rfc1864.txt'>RFC 1864</a>.</p></td>
    </tr>
    <tr>
      <th>ReplicationConfiguration</th>
      <td><p>[required]</p></td>
    </tr>
    <tr>
      <th>Token</th>
      <td></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To perform this operation, the user or role performing the operation
must have the
<a href='https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_passrole.html'>iam:PassRole</a>
permission.</p>
<p>Specify the replication configuration in the request body. In the
replication configuration, you provide the name of the destination
bucket where you want Amazon S3 to replicate objects, the IAM role that
Amazon S3 can assume to replicate objects on your behalf, and other
relevant information.</p>
<p>A replication configuration must include at least one rule, and can
contain a maximum of 1,000. Each rule identifies a subset of objects to
replicate by filtering the objects in the source bucket. To choose
additional subsets of objects to replicate, add a rule for each subset.
All rules must specify the same destination bucket.</p>
<p>To specify a subset of the objects in the source bucket to apply a
replication rule to, add the Filter element as a child of the Rule
element. You can filter objects based on an object key prefix, one or
more object tags, or both. When you add the Filter element in the
configuration, you must also add the following elements:
<code>DeleteMarkerReplication</code>, <code>Status</code>, and <code>Priority</code>.</p>
<p>For information about enabling versioning on a bucket, see <a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/Versioning.html'>Using Versioning</a>.</p>
<p>By default, a resource owner, in this case the AWS account that created
the bucket, can perform this operation. The resource owner can also
grant others permissions to perform the operation. For more information
about permissions, see <a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/using-with-s3-actions.html'>Specifying Permissions in a Policy</a>
and <a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html'>Managing Access Permissions to Your Amazon S3 Resources</a>.</p>
<p><strong>Handling Replication of Encrypted Objects</strong></p>
<p>By default, Amazon S3 doesn\'t replicate objects that are stored at rest
using server-side encryption with CMKs stored in AWS KMS. To replicate
AWS KMS-encrypted objects, add the following: <code>SourceSelectionCriteria</code>,
<code>SseKmsEncryptedObjects</code>, <code>Status</code>, <code>EncryptionConfiguration</code>, and
<code>ReplicaKmsKeyID</code>. For information about replication configuration, see
<a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/replication-config-for-kms-objects.html'>Replicating Objects Created with SSE Using CMKs stored in AWS KMS</a>.</p>
<p>For information on <code>PutBucketReplication</code> errors, see
ReplicationErrorCodeList</p>
<p>The following operations are related to <code>PutBucketReplication</code>:</p><ul>
<li><p>GetBucketReplication</p></li>
<li><p>DeleteBucketReplication</p></li>
</ul>

    <h2 class="hasAnchor" id="request-syntax"><a class="anchor" href="#request-syntax"></a>Request syntax</h2>

    
<pre><span class='no'>svc</span>$<span class='fu'>put_bucket_replication</span>(
  <span class='kw'>Bucket</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
  <span class='kw'>ContentMD5</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
  <span class='kw'>ReplicationConfiguration</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>Role</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
    <span class='kw'>Rules</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
      <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
        <span class='kw'>ID</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
        <span class='kw'>Priority</span> <span class='kw'>=</span> <span class='fl'>123</span>,
        <span class='kw'>Prefix</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
        <span class='kw'>Filter</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
          <span class='kw'>Prefix</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
          <span class='kw'>Tag</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>Key</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
            <span class='kw'>Value</span> <span class='kw'>=</span> <span class='st'>"string"</span>
          ),
          <span class='kw'>And</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>Prefix</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
            <span class='kw'>Tags</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
              <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
                <span class='kw'>Key</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
                <span class='kw'>Value</span> <span class='kw'>=</span> <span class='st'>"string"</span>
              )
            )
          )
        ),
        <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span><span class='kw'>|</span><span class='st'>"Disabled"</span>,
        <span class='kw'>SourceSelectionCriteria</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
          <span class='kw'>SseKmsEncryptedObjects</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span><span class='kw'>|</span><span class='st'>"Disabled"</span>
          )
        ),
        <span class='kw'>ExistingObjectReplication</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
          <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span><span class='kw'>|</span><span class='st'>"Disabled"</span>
        ),
        <span class='kw'>Destination</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
          <span class='kw'>Bucket</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
          <span class='kw'>Account</span> <span class='kw'>=</span> <span class='st'>"string"</span>,
          <span class='kw'>StorageClass</span> <span class='kw'>=</span> <span class='st'>"STANDARD"</span><span class='kw'>|</span><span class='st'>"REDUCED_REDUNDANCY"</span><span class='kw'>|</span><span class='st'>"STANDARD_IA"</span><span class='kw'>|</span><span class='st'>"ONEZONE_IA"</span><span class='kw'>|</span><span class='st'>"INTELLIGENT_TIERING"</span><span class='kw'>|</span><span class='st'>"GLACIER"</span><span class='kw'>|</span><span class='st'>"DEEP_ARCHIVE"</span>,
          <span class='kw'>AccessControlTranslation</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>Owner</span> <span class='kw'>=</span> <span class='st'>"Destination"</span>
          ),
          <span class='kw'>EncryptionConfiguration</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>ReplicaKmsKeyID</span> <span class='kw'>=</span> <span class='st'>"string"</span>
          ),
          <span class='kw'>ReplicationTime</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span><span class='kw'>|</span><span class='st'>"Disabled"</span>,
            <span class='kw'>Time</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
              <span class='kw'>Minutes</span> <span class='kw'>=</span> <span class='fl'>123</span>
            )
          ),
          <span class='kw'>Metrics</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
            <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span><span class='kw'>|</span><span class='st'>"Disabled"</span>,
            <span class='kw'>EventThreshold</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
              <span class='kw'>Minutes</span> <span class='kw'>=</span> <span class='fl'>123</span>
            )
          )
        ),
        <span class='kw'>DeleteMarkerReplication</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
          <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span><span class='kw'>|</span><span class='st'>"Disabled"</span>
        )
      )
    )
  ),
  <span class='kw'>Token</span> <span class='kw'>=</span> <span class='st'>"string"</span>
)</pre>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># The following example sets replication configuration on a bucket.</span>
<span class='no'>svc</span>$<span class='fu'>put_bucket_replication</span>(
  <span class='kw'>Bucket</span> <span class='kw'>=</span> <span class='st'>"examplebucket"</span>,
  <span class='kw'>ReplicationConfiguration</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>Role</span> <span class='kw'>=</span> <span class='st'>"arn:aws:iam::123456789012:role/examplerole"</span>,
    <span class='kw'>Rules</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
      <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
        <span class='kw'>Destination</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
          <span class='kw'>Bucket</span> <span class='kw'>=</span> <span class='st'>"arn:aws:s3:::destinationbucket"</span>,
          <span class='kw'>StorageClass</span> <span class='kw'>=</span> <span class='st'>"STANDARD"</span>
        ),
        <span class='kw'>Prefix</span> <span class='kw'>=</span> <span class='st'>""</span>,
        <span class='kw'>Status</span> <span class='kw'>=</span> <span class='st'>"Enabled"</span>
      )
    )
  )
)
}</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kretch, Adam Banker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


