<table style="width: 100%;">
<tbody>
<tr class="odd">
<td>ebs_put_snapshot_block</td>
<td style="text-align: right;">R Documentation</td>
</tr>
</tbody>
</table>

## Writes a block of data to a snapshot

### Description

Writes a block of data to a snapshot. If the specified block contains
data, the existing data is overwritten. The target snapshot must be in
the `pending` state.

Data written to a snapshot must be aligned with 512-KiB sectors.

### Usage

    ebs_put_snapshot_block(SnapshotId, BlockIndex, BlockData, DataLength,
      Progress, Checksum, ChecksumAlgorithm)

### Arguments

<table>
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<tbody>
<tr class="odd">
<td><code
id="ebs_put_snapshot_block_:_SnapshotId">SnapshotId</code></td>
<td><p>[required] The ID of the snapshot.</p>
<p>If the specified snapshot is encrypted, you must have permission to
use the KMS key that was used to encrypt the snapshot. For more
information, see <a
href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebsapis-using-encryption.html">Using
encryption</a> in the <em>Amazon Elastic Compute Cloud User
Guide</em>..</p></td>
</tr>
<tr class="even">
<td><code
id="ebs_put_snapshot_block_:_BlockIndex">BlockIndex</code></td>
<td><p>[required] The block index of the block in which to write the
data. A block index is a logical index in units of <code>512</code> KiB
blocks. To identify the block index, divide the logical offset of the
data in the logical volume by the block size (logical offset of
data/<code>524288</code>). The logical offset of the data must be
<code>512</code> KiB aligned.</p></td>
</tr>
<tr class="odd">
<td><code id="ebs_put_snapshot_block_:_BlockData">BlockData</code></td>
<td><p>[required] The data to write to the block.</p>
<p>The block data is not signed as part of the Signature Version 4
signing process. As a result, you must generate and provide a
Base64-encoded SHA256 checksum for the block data using the
<strong>x-amz-Checksum</strong> header. Also, you must specify the
checksum algorithm using the <strong>x-amz-Checksum-Algorithm</strong>
header. The checksum that you provide is part of the Signature Version 4
signing process. It is validated against a checksum generated by Amazon
EBS to ensure the validity and authenticity of the data. If the
checksums do not correspond, the request fails. For more information,
see <a
href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-accessing-snapshot.html#ebsapis-using-checksums">Using
checksums with the EBS direct APIs</a> in the <em>Amazon Elastic Compute
Cloud User Guide</em>.</p></td>
</tr>
<tr class="even">
<td><code
id="ebs_put_snapshot_block_:_DataLength">DataLength</code></td>
<td><p>[required] The size of the data to write to the block, in bytes.
Currently, the only supported size is <code>524288</code> bytes.</p>
<p>Valid values: <code>524288</code></p></td>
</tr>
<tr class="odd">
<td><code id="ebs_put_snapshot_block_:_Progress">Progress</code></td>
<td><p>The progress of the write process, as a percentage.</p></td>
</tr>
<tr class="even">
<td><code id="ebs_put_snapshot_block_:_Checksum">Checksum</code></td>
<td><p>[required] A Base64-encoded SHA256 checksum of the data. Only
SHA256 checksums are supported.</p></td>
</tr>
<tr class="odd">
<td><code
id="ebs_put_snapshot_block_:_ChecksumAlgorithm">ChecksumAlgorithm</code></td>
<td><p>[required] The algorithm used to generate the checksum.
Currently, the only supported algorithm is <code>SHA256</code>.</p></td>
</tr>
</tbody>
</table>

### Value

A list with the following syntax:

    list(
      Checksum = "string",
      ChecksumAlgorithm = "SHA256"
    )

### Request syntax

    svc$put_snapshot_block(
      SnapshotId = "string",
      BlockIndex = 123,
      BlockData = raw,
      DataLength = 123,
      Progress = 123,
      Checksum = "string",
      ChecksumAlgorithm = "SHA256"
    )
